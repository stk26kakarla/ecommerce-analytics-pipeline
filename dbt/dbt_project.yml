name: ecommerce_analytics
version: "1.0.0"
config-version: 2

profile: ecommerce_analytics

# Paths relative to this file's directory (dbt/)
model-paths:    ["models"]
analysis-paths: ["analyses"]
test-paths:     ["tests"]
seed-paths:     ["seeds"]
macro-paths:    ["macros"]
snapshot-paths: ["snapshots"]

target-path:  "target"
clean-targets: ["target", "dbt_packages"]

# ── Project variables ─────────────────────────────────────────────────────────
# raw_samples_path is relative to the CWD where `dbt run` is invoked.
# Always invoke dbt from the repo root so this resolves correctly.
vars:
  raw_samples_path: "data/raw/samples"

# ── Model materialisation defaults ────────────────────────────────────────────
models:
  ecommerce_analytics:
    staging:
      +materialized: view
      +schema: staging

    intermediate:
      +materialized: view
      +schema: intermediate

    marts:
      +materialized: table
      +schema: marts
